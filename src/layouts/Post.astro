---
import BaseLayout from '@/layouts/Base.astro';
import Banner from '@/components/Banner.vue';
import Footer from '@/components/Footer.vue';
import PostAttr from '@/components/post/PostAttr.vue';
import ScrollToTop from '@/components/ScrollToTop.vue';

import type { PostData as Props } from '@/types.ts';

const {
  title,
  desc,
  date,
  tags,
  banner_url,
  banner_pos,
} = Astro.props;
---

<BaseLayout
  title={`${title} | Alan Kuan`}
  {desc}
>
  {
    banner_url &&
    <Banner
      class="mt-4"
      url={banner_url}
      pos={banner_pos}
    />
  }
  <main
    w="md:90% xl:75% 2xl:50%"
    mx-auto px="6 md:10" py="4"
  >
    {/* Title & Attributes */}
    <div pb-4 border="b text-dark dark:text-light">
      <h1 mt-2 text-3xl font-medium>{title}</h1>
      <div mt-2>
        <PostAttr {date} {tags} />
      </div>
    </div>
    {/* Content */}
    <div mt-5 pb-4 border="b text-dark dark:text-light">
      <slot />
    </div>
    <ScrollToTop
      class="fixed bottom-10 right-10"
      client:load
    />
  </main>
  <Footer />
</WithProfileLayout>