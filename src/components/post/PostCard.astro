---
import PostAttr from '@/components/post/PostAttr.vue';
import type { Post as Props } from '@/types.ts';

const {
  collection,
  id,
  excerpt,
  title,
  desc,
  date,
  tags,
  banner_url,
} = Astro.props;

const thumbnail_icon = collection === 'projects' ? 'i-mdi-bulletin-board' : 'i-mdi-book-open-variant-outline';
const post_link = `/${collection}/${id}`;
---

<div
  max-h="200 md:100"
  my-5
  overflow-hidden
  rounded-md
  bg="page-light dark:page-dark"
  drop-shadow
>
  <div flex="~ col md:row">
    <a
      group
      flex justify-center items-center
      min-w="md:72" max-w="md:72" min-h="32 md:48"
      overflow-hidden
      bg="gray-300 dark:profile_card-dark"
      href={post_link}
    >
      {
        banner_url &&
        <img
          w-full h-full
          object-cover
          transition-transform duration-300
          group-hover:scale-110
          src={banner_url}
        /> ||
        <div
          class={thumbnail_icon}
          text-7xl
          transition-font-size duration-300
          group-hover:text-8xl
        />
      }
    </a>
    <div pa-5>
      <div
        font-medium
        text="
          xl
          hover:article_card-link-light
          dark:hover:article_card-link-dark
        "
      >
        <a href={post_link}>{title}</a>
      </div>
      <PostAttr class="mt-1" {date} {tags} />
      {
        excerpt &&
        <div h-18 mt-2 overflow-hidden>
          {excerpt}
        </div>
      }
    </div>
  </div>
</div>