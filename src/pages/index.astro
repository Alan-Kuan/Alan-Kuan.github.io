---
import { getCollection } from 'astro:content';
import BaseLayout from '@/layouts/Base.astro';
import ArticleList from '@/components/article/ArticleList.vue';
import Footer from '@/components/Footer.vue';

const title = 'Alan Kuan | 官澔恩';
const desc = 'A place telling things about Alan Kuan';

const articles = await getCollection('articles');
---

<BaseLayout
  {title}
  {desc}
>
  <main>
    <ArticleList articles={articles.map(article => {
      return {
        title: article.data.title,
        slug: article.slug,
        date: article.data.date,
        tags: article.data.tags,
        excerpt: 'TODO: this should be excerpt',
      }
    })} />
    <Footer />
  </main>
</BaseLayout>